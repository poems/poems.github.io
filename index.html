
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="安装使用package-install，实际上可以写一个简易方法避免重复劳动： 1
2
3
4
5
6
(defun require-package (package) "Install given &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://poems.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:poems.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/24/ease-life-with-yasnippet/">Ease Life With YASnippet</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-24T01:44:00+00:00" pubdate data-updated="true">Nov 24<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>安装使用<code>package-install</code>，实际上可以写一个简易方法避免重复劳动：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(defun require-package (package)
</span><span class='line'>  "Install given PACKAGE."
</span><span class='line'>  (unless (package-installed-p package)
</span><span class='line'>    (unless (assoc package package-archive-contents)
</span><span class='line'>      (package-refresh-contents))
</span><span class='line'>    (package-install package)))
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>学习下其中的1个function</p>

<p><code>assoc</code> is a built-in function in `C source code&#8217;.</p>

<p>&#8220;`
(assoc KEY LIST)</p></blockquote>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>&gt; Return non-nil if KEY is `equal' to the car of an element of LIST.
</span><span class='line'>The value is actually the first element of LIST whose car equals KEY.
</span><span class='line'>
</span><span class='line'>开始学习如何使用YASnippet。
</span><span class='line'>
</span><span class='line'>**1 组织你的 Snippets** (*Organizing Snippets*)
</span><span class='line'>
</span><span class='line'>Snippet的定义是储存在文件系统的文件中。YASnippet的触发机制会找到这些snippet tables，然后展开。
</span><span class='line'>
</span><span class='line'>首先，新建一个目录：my-snippets，用来存放自定义的snippets。
</span></code></pre></td></tr></table></div></figure>


<p>(require &lsquo;yasnippet)</p>

<p>(setq yas-snippet-dirs (concat user-emacs-directory &ldquo;my-snippets&rdquo;))</p>

<p>(add-hook &lsquo;prog-mode-hook &#8216;yas-minor-mode)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>看下是怎么组织snippets的（这是YASnippet自带的）：
</span></code></pre></td></tr></table></div></figure>


<p>snippets tree -a . | head -n 20                                                                                                                      system
.
├── c++-mode
│   ├── .yas-parents
│   ├── beginend
│   ├── class
│   ├── ns
│   ├── template
│   └── using
├── c-mode
│   ├── .yas-parents
│   ├── fopen
│   └── printf
├── cc-mode
│   ├── .yas-parents
│   ├── do
│   ├── for
│   ├── if
│   ├── inc
│   ├── inc.1
│   ├── main</p>

<p>&#8220;`</p>

<p><code>.yas.parent</code>文件可以共享其他目录下的snippets。</p>

<p>如果有一个空的<code>.yas-make-groups</code>文件，会在 YASnippet Menu按照目录结构组织地更清晰。</p>

<p><strong>2 展开你的 Snippets</strong> (<em>Traiggering expansion</em>)</p>

<p>很多中方式能展开snippets，包括：</p>

<ul>
<li><p>By typing an abbrev, the snippet trigger key, and then pressing the key defined in yas/trigger-key (which defaults to &ldquo;TAB&rdquo;). This works in buffers where the minor mode yas/minor-mode is active;</p></li>
<li><p>By invoking the command yas/insert-snippet (either by typing M-x yas/insert-snippet or its keybinding). This does not require yas/minor-mode to be active.</p></li>
<li><p>By using hippie-expand</p></li>
</ul>


<p>以上是3中最常见的方法（虽然我不知道什么是 hippie-expand）。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/23/macro-and-defmacro-in-emacs/">Macro &amp; Defmacro in Emacs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-23T16:42:00+00:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>学习下Lisp的宏（macro）。</p>

<p>首先，区别：Lisp宏和键盘宏（keyboard macro）是两个不同的概念。</p>

<p>一个LISP宏(Lisp Macro)是一个扩展LISP语言的用户定义的结构.
 宏不像函数那样对参数执行表达式. 它们只是在构造一个包括这些参数的表达式.</p>

<blockquote><p>也就是，宏是一个结构，是在构造。就是Lisp非常牛逼的一点：Code as data。</p></blockquote>

<p>首先看下语法定义：</p>

<p><code>defmacro</code> is a Lisp macro in `byte-run.el&#8217;.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(defmacro NAME ARGLIST &optional DOCSTRING DECL &rest BODY)</span></code></pre></td></tr></table></div></figure>


<p>Define NAME as a macro.
When the macro is called, as in (NAME ARGS&hellip;),
the function (lambda ARGLIST BODY&hellip;) is applied to
the list ARGS&hellip; as it appears in the expression,
and the result should be a form to be evaluated instead of the original.
DECL is a declaration, optional, of the form (declare DECLS&hellip;) where
DECLS is a list of elements of the form (PROP . VALUES).  These are
interpreted according to `macro-declarations-alist&#8217;.
The return value is undefined.</p>

<p>好长的解释。</p>

<p>看一个实例：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(defmacro inc (var)
</span><span class='line'>  (list 'setq var (list '1+ var)))
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>注意一点：<code>(list '1+ var)</code> 开始时写成<code>(list '1+var)</code>，少写了一个空格。</p></blockquote>

<p>定义了一个Lisp宏：<code>inc (var)</code>。这个macro的BODY是（按照list函数拼出来）:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(setq var (1+ var))</span></code></pre></td></tr></table></div></figure>


<p>当然也可以这样展开宏：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(macroexpand '(inc x))</span></code></pre></td></tr></table></div></figure>


<p>现在就可以用宏了：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(setq x 1)
</span><span class='line'>(inc x)</span></code></pre></td></tr></table></div></figure>


<blockquote><p>解释:</p></blockquote>

<p><code>list</code> 的用法</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>list is a built-in function in `C source code'.
</span><span class='line'>
</span><span class='line'>(list &rest OBJECTS)
</span><span class='line'>
</span><span class='line'>Return a newly created list with specified arguments as elements.
</span><span class='line'>Any number of arguments, even zero arguments, are allowed.
</span></code></pre></td></tr></table></div></figure>


<p>宏还有一种写法，就是使用反引用（Backquote）。</p>

<p>我们可以用 &lsquo; 引用一个对象并不执行.我们还可以用 反引用 ` 引用一个列表, 但是只是选择性的执行列表的元素.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/23/a-growing-emacser/">A Growing Emacser</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-23T16:00:00+00:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<p><code>when:</code> when is a lisp macro</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(when COND BODY...)</span></code></pre></td></tr></table></div></figure>


<p>If COND yields non-nil, do BODY, else return nil.
When COND yields non-nil, eval BODY forms sequentially and return
value of last one, or nil if there are none.</p>

<hr />

<p><code>fboundp</code> is a built-in function in `C source code&#8217;.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(fboundp SYMBOL)</span></code></pre></td></tr></table></div></figure>


<hr />

<p><code>add-to-list</code> is a compiled Lisp function in `subr.el&#8217;.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(add-to-list LIST-VAR ELEMENT &optional APPEND COMPARE-FN)</span></code></pre></td></tr></table></div></figure>


<p>Add ELEMENT to the value of <code>LIST-VAR</code> if it isn&rsquo;t there yet.
The test for presence of <code>ELEMENT</code> is done with <code>equal</code>,
or with <code>COMPARE-FN</code> if that&rsquo;s non-nil.
If <code>ELEMENT</code> is added, it is added at the beginning of the list,
unless the optional argument <code>APPEND</code> is non-nil, in which case
ELEMENT is added at the end.</p>

<p>The return value is the new value of LIST-VAR.</p>

<hr />

<p><code>provide</code> is a built-in function in `C source code&#8217;.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(provide FEATURE &optional SUBFEATURES)</span></code></pre></td></tr></table></div></figure>


<p>Announce that FEATURE is a feature of the current Emacs.
The optional argument SUBFEATURES should be a list of symbols listing
particular subfeatures supported in this version of FEATURE.</p>

<hr />

<p><code>C-x h</code> runs the command mark-whole-buffer</p>

<p><code>C-w</code> runs the command kill region</p>

<hr />

<p>use <code>C-x &lt;right&gt;</code>, <code>C-x &lt;left&gt;</code> to cycle around in the buffer ring.</p>

<p><code>iswitchb-mode</code> replaces the default C-x b behaviour with a very intuitive buffer-switching-with-completion system.</p>

<p>The related commands are <code>C-x b</code>, <code>C-s</code> and <code>C-r</code>.</p>

<hr />

<p>emacs <code>dired</code> mode.</p>

<p><code>C-x C-j</code>: (dired-jump to current file)
<code>R</code> to rename the file (or &lsquo;dired-do-rename&rsquo;).
<code>C-x k RET</code> to go back to the (renamed) buffer</p>

<hr />
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/23/a-example-of-writing-exception-in-java/">A Example of Writing Exception in Java</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-23T07:49:00+00:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>记录在阅读 Jasig Cas 的源码学习到的 Java 知识。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public abstract class AuthenticationException extends Exception {
</span></code></pre></td></tr></table></div></figure>


<p>首先，这是一个 abstract class.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/** The code to return for resolving to a message description. */
</span><span class='line'>private String code;
</span><span class='line'>
</span><span class='line'>/**
</span><span class='line'> * Method to return the unique identifier for this error type.
</span><span class='line'> *
</span><span class='line'> * @return the String identifier for this error type.
</span><span class='line'> */
</span><span class='line'>public final String getCode() {
</span><span class='line'>    return this.code;
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>使用 code，来解析异常消息的描述。
并且，code 有一个 get 方法，final 不可继承。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/** The error type that provides additional info about the nature of the exception cause **/
</span><span class='line'>private String type = "error";
</span><span class='line'>
</span><span class='line'>/**
</span><span class='line'> * Method to return the error type of this exception
</span><span class='line'> *
</span><span class='line'> * @return the String identifier for the cause of this error.
</span><span class='line'> */
</span><span class='line'>public final String getType() {
</span><span class='line'>    return this.type;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>额外的一个 field: type，维护导致异常的本质信息。</p>

<p>下面是 <code>AuthenticationException</code> 的 constructors。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public AuthenticationException(final String code) {
</span><span class='line'>    this.code = code;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>这是第1个 constructor。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public AuthenticationException(final String code, final String msg) {
</span><span class='line'>    super(msg);
</span><span class='line'>    this.code = code;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>public AuthenticationException(final String code, final String msg, final String type) {
</span><span class='line'>    super(msg);
</span><span class='line'>    this.code = code;
</span><span class='line'>    this.type = type;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>第2个和第3个 constructor，需要学习的是 <code>super(msg)</code>。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/**
</span><span class='line'> * Constructor that takes a code description of the error and the chained
</span><span class='line'> * exception. These codes normally have a corresponding entries in the
</span><span class='line'> * messages file for the internationalization of error messages.
</span><span class='line'> *
</span><span class='line'> * @param code The short unique identifier for this error.
</span><span class='line'> * @param throwable The chained exception for this AuthenticationException
</span><span class='line'> */
</span><span class='line'>public AuthenticationException(final String code, final Throwable throwable) {
</span><span class='line'>    super(throwable);
</span><span class='line'>    this.code = code;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>最后一个 constructor，需要学习的是 <code>final Throwable throwable</code>，这块不是很懂。按描述是能链式异常。
查看了 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html#Exception(java.lang.Throwable)">Java Exception 文档</a>，它有一个 constructor：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public Exception(Throwable cause)</span></code></pre></td></tr></table></div></figure>


<p>它的作用是：用指定的 cause 和 详细的 message(<code>cause==null ? null : cause.toString()</code>)构造新的异常。
它的作用就是一个 &ldquo;wrapper&#8221;。</p>

<p>完整源码见：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/*
</span><span class='line'> * Licensed to Jasig under one or more contributor license
</span><span class='line'> * agreements. See the NOTICE file distributed with this work
</span><span class='line'> * for additional information regarding copyright ownership.
</span><span class='line'> * Jasig licenses this file to you under the Apache License,
</span><span class='line'> * Version 2.0 (the "License"); you may not use this file
</span><span class='line'> * except in compliance with the License.  You may obtain a
</span><span class='line'> * copy of the License at the following location:
</span><span class='line'> *
</span><span class='line'> *   http://www.apache.org/licenses/LICENSE-2.0
</span><span class='line'> *
</span><span class='line'> * Unless required by applicable law or agreed to in writing,
</span><span class='line'> * software distributed under the License is distributed on an
</span><span class='line'> * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
</span><span class='line'> * KIND, either express or implied.  See the License for the
</span><span class='line'> * specific language governing permissions and limitations
</span><span class='line'> * under the License.
</span><span class='line'> */
</span><span class='line'>package org.jasig.cas.authentication.handler;
</span><span class='line'>
</span><span class='line'>/**
</span><span class='line'> * The most generic type of authentication exception that one can catch if not
</span><span class='line'> * sure what specific implementation will be thrown. Top of the tree of all
</span><span class='line'> * other AuthenticationExceptions.
</span><span class='line'> *
</span><span class='line'> * @author Scott Battaglia
</span><span class='line'> * @version $Revision$ $Date$
</span><span class='line'> * @since 3.0
</span><span class='line'> */
</span><span class='line'>public abstract class AuthenticationException extends Exception {
</span><span class='line'>
</span><span class='line'>    /** Serializable ID. */
</span><span class='line'>    private static final long serialVersionUID = 3906648604830611762L;
</span><span class='line'>
</span><span class='line'>    /** The code to return for resolving to a message description. */
</span><span class='line'>    private String code;
</span><span class='line'>
</span><span class='line'>    /** The error type that provides additional info about the nature of the exception cause **/
</span><span class='line'>    private String type = "error";
</span><span class='line'>
</span><span class='line'>    /**
</span><span class='line'>     * Constructor that takes a code description of the error. These codes
</span><span class='line'>     * normally have a corresponding entries in the messages file for the
</span><span class='line'>     * internationalization of error messages.
</span><span class='line'>     *
</span><span class='line'>     * @param code The short unique identifier for this error.
</span><span class='line'>     */
</span><span class='line'>    public AuthenticationException(final String code) {
</span><span class='line'>        this.code = code;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    /**
</span><span class='line'>     * Constructor that takes a &lt;code&gt;code&lt;/code&gt; description of the error along with the exception
</span><span class='line'>     * &lt;code&gt;msg&lt;/code&gt; generally for logging purposes. These codes normally have a corresponding
</span><span class='line'>     * entries in the messages file for the internationalization of error messages.
</span><span class='line'>     *
</span><span class='line'>     * @param code The short unique identifier for this error.
</span><span class='line'>     * @param msg The error message associated with this exception for additional logging purposes.
</span><span class='line'>     */
</span><span class='line'>    public AuthenticationException(final String code, final String msg) {
</span><span class='line'>        super(msg);
</span><span class='line'>        this.code = code;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    /**
</span><span class='line'>     * Constructor that takes a &lt;code&gt;code&lt;/code&gt; description of the error along with the exception
</span><span class='line'>     * &lt;code&gt;msg&lt;/code&gt; generally for logging purposes and the &lt;code&gt;type&lt;/code&gt; of the error that originally caused the exception.
</span><span class='line'>     * These codes normally have a corresponding entries in the messages file for the internationalization of error messages.
</span><span class='line'>     *
</span><span class='line'>     * @param code The short unique identifier for this error.
</span><span class='line'>     * @param msg The error message associated with this exception for additional logging purposes.
</span><span class='line'>     * @param type The type of the error message that caused the exception to be thrown. By default,
</span><span class='line'>     * all errors are considered of &lt;code&gt;error&lt;/code&gt;.
</span><span class='line'>     */
</span><span class='line'>    public AuthenticationException(final String code, final String msg, final String type) {
</span><span class='line'>        super(msg);
</span><span class='line'>        this.code = code;
</span><span class='line'>        this.type = type;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    /**
</span><span class='line'>     * Constructor that takes a code description of the error and the chained
</span><span class='line'>     * exception. These codes normally have a corresponding entries in the
</span><span class='line'>     * messages file for the internationalization of error messages.
</span><span class='line'>     *
</span><span class='line'>     * @param code The short unique identifier for this error.
</span><span class='line'>     * @param throwable The chained exception for this AuthenticationException
</span><span class='line'>     */
</span><span class='line'>    public AuthenticationException(final String code, final Throwable throwable) {
</span><span class='line'>        super(throwable);
</span><span class='line'>        this.code = code;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    /**
</span><span class='line'>     * Method to return the error type of this exception
</span><span class='line'>     *
</span><span class='line'>     * @return the String identifier for the cause of this error.
</span><span class='line'>     */
</span><span class='line'>    public final String getType() {
</span><span class='line'>        return this.type;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    /**
</span><span class='line'>     * Method to return the unique identifier for this error type.
</span><span class='line'>     *
</span><span class='line'>     * @return the String identifier for this error type.
</span><span class='line'>     */
</span><span class='line'>    public final String getCode() {
</span><span class='line'>        return this.code;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    @Override
</span><span class='line'>    public final String toString() {
</span><span class='line'>        String msg = getCode();
</span><span class='line'>        if (getMessage() != null && getMessage().trim().length() &gt; 0)
</span><span class='line'>            msg = ":" + getMessage();
</span><span class='line'>        return msg;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/02/a-blank-page-for-test/">A Blank Page for Test</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-02T11:23:00+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>A Blank Page for Test</h1>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/11/24/ease-life-with-yasnippet/">Ease Life With YASnippet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/23/macro-and-defmacro-in-emacs/">Macro &amp; Defmacro in Emacs</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/23/a-growing-emacser/">A Growing Emacser</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/23/a-example-of-writing-exception-in-java/">A Example of Writing Exception in Java</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/02/a-blank-page-for-test/">A Blank Page for Test</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
